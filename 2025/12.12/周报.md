# 周报  

## 1.go

要求用户输入的格式正确

![16](C:\Users\70269\Desktop\周报\2025\12.12\16.png)

## 2.论文

Mask‑Guided Portrait Editing with Conditional GANs（2019）开源

贡献：

1. 提出了一种基于掩模制导条件gan的新框架， 成功地解决了人脸合成中的多样性、质量和可控性问题。 

2. 该框架是通用的，可用于大量的应用程序，例如面具到人脸合成，人脸编辑，人脸交换，甚至人脸解析的数据增强。

框架需要四个输入：源图像、源图像的掩码、目标图像和目标图像mt的掩码。

它包括三个部分:局部嵌入子网络、掩码引导生成子网络和背景融合子网络。局部嵌入子网络学习源图像局部分量的特征嵌入。掩码引导子网络将学习到的分量特征嵌入与掩码相结合，生成前景人脸图像。背景融合子网络从前景人脸和背景生成最终结果。损失函数用蓝色虚线表示。

![1](C:\Users\70269\Desktop\周报\2025\12.12\1.png)

首先使用人脸解析网络来获得目标人脸掩码。根据人脸掩模，从目标图像中提取背景部分，然后将背景部分馈送到编码器Eb，得到输出的背景特征张量。之后，我们将背景特征张量与前景人脸连接，并将其输入生成网络Gb，生成人脸结果G。

**损失函数**

局部重建：我们利用输入实例和重构实例之间的MSE损失来学习每个实例的特征嵌入。其中xi, i∈{0,1,2,3,4}表示“左眼”、“右眼”、“嘴”、“皮肤和鼻子”、“头发”。

![2](C:\Users\70269\Desktop\周报\2025\12.12\2.png)

整体重建：当输入源图像xs与目标图像xt相同时，生成的结果G(xs, xs, xt,mt)应与xs相同。根据约束条件，重构损失可通过:

![3](C:\Users\70269\Desktop\周报\2025\12.12\3.png)

对抗性损失：我们在框架后添加了判别器网络D。

![4](C:\Users\70269\Desktop\周报\2025\12.12\4.png)

框架G的损失函数

![5](C:\Users\70269\Desktop\周报\2025\12.12\5.png)

G的原始损失函数可能导致不稳定的梯度问题。我们还为生成器使用了成对特征匹配目标。为了生成逼真的人脸图像质量，我们在真实图像和虚假图像之间匹配网络D的特征。令fDi (x,mt)表示鉴别器中间层上的特征，则两两特征匹配损失为特征表示之间的欧氏距离，即

![6](C:\Users\70269\Desktop\周报\2025\12.12\6.png)

因此框架G的总体损失为:

![7](C:\Users\70269\Desktop\周报\2025\12.12\7.png)

面部解析损失：为了生成掩码等变的人脸图像，我们需要使生成的样本具有与目标掩码相同的掩码，并使用人脸配对网络PF来约束生成的人脸。我们使用U-Net网络结构在Helen face Dataset上预训练人脸解析网络PF。网络PF的损失函数LP是逐像素交叉熵损失，这种损失单独检查每个像素，将类预测(逐深度像素向量)与我们的单热编码目标向量pi,j进行比较:

![8](C:\Users\70269\Desktop\周报\2025\12.12\8.png)

这里的(i, j)表示像素的位置。在得到预训练的网络PF后，我们使用PF来鼓励生成的样本与目标掩码具有相同的掩码，因此我们对生成网络使用以下损失函数:

![9](C:\Users\70269\Desktop\周报\2025\12.12\9.png)

总体损失函数：

![10](C:\Users\70269\Desktop\周报\2025\12.12\10.png)

**论文的实验效果**

![11](C:\Users\70269\Desktop\周报\2025\12.12\11.png)

![12](C:\Users\70269\Desktop\周报\2025\12.12\12.png)

![13](C:\Users\70269\Desktop\周报\2025\12.12\13.png)

**上个星期看的论文源码实验效果**：翅膀生成的效果比之前的好一点

![14](C:\Users\70269\Desktop\周报\2025\12.12\14.png)

![15](C:\Users\70269\Desktop\周报\2025\12.12\15.png)
